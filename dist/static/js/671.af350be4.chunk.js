"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[671],{515:(e,s,a)=>{a.d(s,{J$:()=>r,m3:()=>n});const t="/api",r={LOGIN:"".concat(t,"/auth/login"),REGISTER:"".concat(t,"/auth/register"),FORGOT_PASSWORD:"".concat(t,"/auth/forgot-password"),RESET_PASSWORD:"".concat(t,"/auth/reset-password"),UPDATE_PROFILE:"".concat(t,"/auth/update-profile")},n={VALIDATE_USER:"".concat(t,"/auth/user"),GET_PROFILE:"".concat(t,"/user/profile"),UPDATE_PROFILE:"".concat(t,"/user/update-profile")};"".concat(t,"/posts"),"".concat(t,"/posts/create"),"".concat(t,"/posts/update"),"".concat(t,"/posts/delete")},671:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var t=a(43),r=a(128),n=a(250),o=a(3),c=a(152),i=a(579);const l=()=>{const[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[d,u]=(0,t.useState)({}),[h,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),S=(0,o.wA)(),v=(0,n.Zp)();return(0,i.jsxs)("div",{className:"login-container",children:[(0,i.jsx)("h2",{children:"Login"}),(0,i.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const s={};return e?/\S+@\S+\.\S+/.test(e)||(s.email="Invalid email address"):s.email="Email is required",a||(s.password="Password is required"),u(s),0===Object.keys(s).length})()){S((0,c.AU)());try{const s=await(0,r.HH)(e,a);m(s.data.message),g(""),S((0,c.Ne)(s.data.user)),localStorage.setItem("token",s.data.token),v("/dashboard")}catch(o){var t,n;g((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Something went wrong")}}},children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email"}),(0,i.jsx)("input",{type:"email",name:"email",value:e,onChange:e=>s(e.target.value),placeholder:"Enter your email"}),d.email&&(0,i.jsx)("div",{className:"error",children:d.email})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"password",children:"Password"}),(0,i.jsx)("input",{type:"password",name:"password",value:a,onChange:e=>l(e.target.value),placeholder:"Enter your password"}),d.password&&(0,i.jsx)("div",{className:"error",children:d.password})]}),h&&(0,i.jsx)("div",{className:"success-message",children:h}),p&&(0,i.jsx)("div",{className:"error-message",children:p}),(0,i.jsx)("button",{type:"submit",children:"Login"})]}),(0,i.jsxs)("div",{className:"text-center mt-3",children:["Don't have an account? ",(0,i.jsx)("a",{href:"/registration",children:"Register here"})]}),(0,i.jsxs)("div",{className:"text-center mt-3",children:["Forgot your password? ",(0,i.jsx)("a",{href:"/forgot-password",children:"Reset it here"})]})]})}},128:(e,s,a)=>{a.d(s,{HH:()=>o,IM:()=>n,Zx:()=>c,i6:()=>i,rz:()=>l});var t=a(722),r=a(515);async function n(e){return t.A.post(r.J$.FORGOT_PASSWORD,{email:e})}async function o(e,s){return t.A.post(r.J$.LOGIN,{email:e,password:s})}async function c(e){return t.A.post(r.J$.REGISTER,e)}async function i(e,s){return t.A.post(r.J$.RESET_PASSWORD,{token:e,password:s})}async function l(e){return t.A.get(r.m3.VALIDATE_USER,{headers:{Authorization:"Bearer ".concat(e)}})}}}]);
//# sourceMappingURL=671.af350be4.chunk.js.map